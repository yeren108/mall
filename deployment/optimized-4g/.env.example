# =============================================================================
# Mall 电商系统 - 环境变量配置模板
# 用途: 复制此文件为 .env 并填入实际值
# =============================================================================
# 使用方法:
#   cp .env.example .env
#   vi .env  # 修改配置
# =============================================================================

# -----------------------------------------------------------------------------
# 部署配置
# -----------------------------------------------------------------------------
# 数据目录（所有数据将存储在此目录）
DATA_DIR=/opt/mall

# Docker 镜像仓库
REGISTRY=registry.cn-shanghai.aliyuncs.com/mall
VERSION=latest

# -----------------------------------------------------------------------------
# 数据库配置 (MySQL)
# -----------------------------------------------------------------------------
DB_HOST=mysql
DB_PORT=3306
DB_NAME=mall
DB_USER=mall_app
# 请使用强密码（16位以上，大小写+数字+特殊字符）
DB_PASSWORD=ChangeThisStrongPassword123!
# MySQL root 密码（请务必修改）
DB_ROOT_PASSWORD=ChangeThisRootPassword456!

# -----------------------------------------------------------------------------
# Redis 配置
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
# 请使用强密码
REDIS_PASSWORD=ChangeThisRedisPassword789!

# -----------------------------------------------------------------------------
# MongoDB 配置
# -----------------------------------------------------------------------------
MONGO_HOST=mongo
MONGO_PORT=27017
MONGO_DATABASE=mall-port
MONGO_USER=mall_mongo
# 请使用强密码
MONGO_PASSWORD=ChangeThisMongoPassword012!

# -----------------------------------------------------------------------------
# RabbitMQ 配置
# -----------------------------------------------------------------------------
MQ_HOST=rabbitmq
MQ_PORT=5672
MQ_VHOST=/mall
MQ_USER=mall_mq
# 请使用强密码
MQ_PASSWORD=ChangeThisMqPassword345!

# -----------------------------------------------------------------------------
# JWT 配置
# -----------------------------------------------------------------------------
# JWT 密钥（64位随机字符串，非常重要！请务必修改）
JWT_SECRET=ChangeThisTo64CharacterRandomStringForJWTSecretKeyProductionOnly
JWT_TOKEN_HEADER=Authorization
JWT_TOKEN_PREFIX=Bearer
JWT_EXPIRATION=604800

# -----------------------------------------------------------------------------
# 对象存储配置
# -----------------------------------------------------------------------------

# 方案1: UCloud US3 (推荐 - 有免费额度)
OSS_ENDPOINT=ufile.api.ucloud.cn
OSS_BUCKET_NAME=your-bucket-name
OSS_ACCESS_KEY_ID=your-ucloud-public-key
OSS_ACCESS_KEY_SECRET=your-ucloud-private-key

# 方案2: 七牛云 (免费额度: 10GB + 10GB流量/月)
# OSS_ENDPOINT=https://upload.qiniup.com
# OSS_BUCKET_NAME=your-qiniu-bucket
# OSS_ACCESS_KEY_ID=your-qiniu-access-key
# OSS_ACCESS_KEY_SECRET=your-qiniu-secret-key

# 方案3: 阿里云 OSS (新用户免费3个月5GB)
# OSS_ENDPOINT=oss-cn-shanghai.aliyuncs.com
# OSS_BUCKET_NAME=your-aliyun-bucket
# OSS_ACCESS_KEY_ID=your-aliyun-access-key-id
# OSS_ACCESS_KEY_SECRET=your-aliyun-access-key-secret

# -----------------------------------------------------------------------------
# 阿里云镜像仓库（可选，如果使用阿里云镜像仓库）
# -----------------------------------------------------------------------------
ALIYUN_REGISTRY=registry.cn-shanghai.aliyuncs.com
ALIYUN_USERNAME=your-aliyun-username
ALIYUN_PASSWORD=your-aliyun-password

# -----------------------------------------------------------------------------
# 应用端口配置
# -----------------------------------------------------------------------------
MALL_ADMIN_PORT=8080
MALL_PORTAL_PORT=8085
MALL_SEARCH_PORT=8081

# -----------------------------------------------------------------------------
# 日志配置
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_PATH=/var/logs

# -----------------------------------------------------------------------------
# 时区配置
# -----------------------------------------------------------------------------
TZ=Asia/Shanghai

# =============================================================================
# 安全提示
# =============================================================================
# 1. 生产环境务必修改所有默认密码
# 2. JWT_SECRET 必须使用64位随机字符串
# 3. 不要将 .env 文件提交到版本控制系统
# 4. 定期轮换密钥和密码
# =============================================================================
# 生成随机密码的方法:
#   openssl rand -base64 32
# 或
#   cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 32 | head -n 1
# =============================================================================
